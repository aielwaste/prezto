#
# Executes commands at login pre-zshrc.
#
# Authors:
#   Sorin Ionescu <sorin.ionescu@gmail.com>
#   Andrew Bell <andrewbell8@gmail.com>
#

<<<<<<< HEAD
<<<<<<< HEAD
=======
>>>>>>> .
#
# Powerlevel9k
#

POWERLEVEL9K_MODE="awesome-patched"
ZSH_THEME="powerlevel9k/powerlevel9k"

<<<<<<< HEAD

## POWERLEVEL9K SETTINGS ##
#POWERLEVEL9K_STATUS_VERBOSE=false
POWERLEVEL9K_STATUS_OK_IN_NON_VERBOSE=true
POWERLEVEL9K_PROMPT_ON_NEWLINE=true
# POWERLEVEL9K_MULTILINE_FIRST_PROMPT_PREFIX=''
POWERLEVEL9K_MULTILINE_SECOND_PROMPT_PREFIX="%K{black}%F{gray} \UE12E `date +%T` %f%k%F{gray}î‚°%f "
POWERLEVEL9K_SHORTEN_DIR_LENGTH=2
POWERLEVEL9K_LEFT_PROMPT_ELEMENTS=(dir vcs)
POWERLEVEL9K_RIGHT_PROMPT_ELEMENTS=(status pyenv virtualenv root_indicator)
POWERLEVEL9K_OS_ICON_BACKGROUND="black"
POWERLEVEL9K_OS_ICON_FOREGROUND="gray"
POWERLEVEL9K_DIR_HOME_FOREGROUND="black"
POWERLEVEL9K_DIR_HOME_SUBFOLDER_FOREGROUND="black"
POWERLEVEL9K_DIR_DEFAULT_FOREGROUND="black"
POWERLEVEL9K_PROMPT_ON_NEWLINE=true
POWERLEVEL9K_RPROMPT_ON_NEWLINE=true
POWERLEVEL9K_PROMPT_ADD_NEWLINE=true
POWERLEVEL9K_ALWAYS_SHOW_CONTEXT=false
POWERLEVEL9K_ALWAYS_SHOW_USER=false
POWERLEVEL9K_SHORTEN_DIR_LENGTH=1
POWERLEVEL9K_SHORTEN_DELIMITER=""
POWERLEVEL9K_SHORTEN_STRATEGY="truncate_from_right"
POWERLEVEL9K_MODE='awesome-patched'
POWERLEVEL9K_MODE='awesome-fontconfig'


# Ensure path arrays do not contain duplicates.
typeset -gU cdpath dfpath mailpath path

if [[ -d "~/Dropbox/bin" ]]; then
  rm -rf "~/bin" && ln -sd ~/Dropbox/bin ~/bin
fi

if [[ $OSTYPE == *darwin* ]]; then

  if [[ -f "$HOME"/.secrets ]]; then
    source "$HOME"/.secrets
  fi

  #
  # fpath
  #

  path=(
    $HOME/bin
    /usr/local/{bin,sbin}
    $path
  )

  export BROWSER='open'

  #
  # homebrew
  #

  export HOMEBREW_GITHUB_API_TOKEN="$MY_HOMEBREW_GITHUB_API_TOKEN"

  # homebrew check
  if [[ -z $(which brew) ]]; then
    #install homebrew
    function install_homebrew() {
      ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
    }

    install_homebrew
  fi
  export PATH="$(brew --prefix coreutils)/libexec/gnubin:/usr/local/bin:$PATH"
  export MANPATH="$(brew --prefix coreutils)/libexec/gnuman:/usr/local/share/man:$MANPATH"

  #
  # Java
  #

  JAVA_HOME="/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home"
  CLASSPATH=".:$HOME/Library/Java/junit.jar:$CLASSPATH"
  export JAVA_HOME JAVA_OPTS CLASSPATH

  export GOROOT=$HOME/.go
  export PATH=$PATH:/usr/local/opt/go/libexec/bin

  #
  # fpath
  #

  path=(
    $HOME/bin
    /usr/local/{bin,sbin}
    $path
  )


elif [[ $OSTYPE == *linux* ]] && [[ $(uname -r) == *ARCH* || $(uname -r) == *MANJARO* ]] ; then

  export BROWSER='xdg-open'


  #
  # fpath
  #

  path=(
    $HOME/bin
    /usr/{bin,sbin}
    $path
  )
fi

=======
=======
POWERLEVEL9K_LEFT_PROMPT_ELEMENTS=(context dir pyenv vcs)
POWERLEVEL9K_RIGHT_PROMPT_ELEMENTS=(status root_indicator background_jobs)
POWERLEVEL9K_STATUS_VERBOSE=false



>>>>>>> .
if [[ -d "~/Dropbox/bin" ]]; then
  rm -rf "~/bin" && ln -sd ~/Dropbox/bin ~/bin
fi

if [[ $OSTYPE == *darwin* ]]; then

  if [[ -f "$HOME"/.secrets ]]; then
    source "$HOME"/.secrets
  fi

  export BROWSER='open'

  #
  # homebrew
  #

  export HOMEBREW_GITHUB_API_TOKEN="$MY_BREW_TOKEN"

  if [[ -z $(which brew) ]]; then
    #install homebrew
    function install_homebrew() {
      ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
    }

    install_homebrew
  fi
  export PATH="$(brew --prefix coreutils)/libexec/gnubin:/usr/local/bin:$PATH"
  export MANPATH="$(brew --prefix coreutils)/libexec/gnuman:/usr/local/share/man:$MANPATH"

  #
  # Java
  #

  JAVA_HOME="/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home"
  CLASSPATH=".:$HOME/Library/Java/junit.jar:$CLASSPATH"
  export JAVA_HOME JAVA_OPTS CLASSPATH

  #
  # fpath
  #

  path=(
    $HOME/bin
    /usr/local/{bin,sbin}
    $path
  )


elif [[ $OSTYPE == *linux* ]] && [[ $(uname -r) == *ARCH* || $(uname -r) == *MANJARO* ]] ; then
  export BROWSER='xdg-open'

  #
  # fpath
  #

  path=(
    $HOME/bin
    /usr/{bin,sbin}
    $path
  )
fi

#
# Gnupg
#

GPG_TTY=$(tty)
export GPG_TTY
export MYGPGKEY=37D280F9
>>>>>>> 298081ec7200de4311a6378a34943524890478ea


#
<<<<<<< HEAD
# Gnupg
#

GPG_TTY=$(tty)
export GPG_TTY
export MYGPGKEY="$MY_GPG_KEY"
=======
# Scaling fix for Enpass
#

export QT_AUTO_SCREEN_SCALE_FACTOR=0
>>>>>>> .


#
# Editors
#

export PAGER=less
export EDITOR='subl -n -w'
<<<<<<< HEAD
<<<<<<< HEAD
export VISUAL=$EDITOR
export GIT_EDITOR=$VISUAL
export SVN_EDITOR=$VISUAL
export HG_EDITOR=$VISUAL
export HOMEBREW_EDITOR=$VISUAL
=======
export VISUAL="$EDITOR"
export GIT_EDITOR='subl -n -w'
export SVN_EDITOR="$GIT_EDITOR"
export HG_EDITOR="$GIT_EDITOR"
export HOMEBREW_EDITOR="$GIT_EDITOR"
>>>>>>> 298081ec7200de4311a6378a34943524890478ea
export ___FULLUSERNAME___="Andrew Bell"
export ___ORGANIZATIONNAME___="Fr1v"
export SNIPPET_AUTHOR="Andrew Bell"
export LANG=en_US.UTF-8
umask 022

=======
export VISUAL=$EDITOR
export GIT_EDITOR=$EDITOR
export SVN_EDITOR=$GIT_EDITOR
export HG_EDITOR=$GIT_EDITOR
export HOMEBREW_EDITOR=$GIT_EDITOR
export ___FULLUSERNAME___=Andrew Bell
export ___ORGANIZATIONNAME___=Fr1v
export SNIPPET_AUTHOR=Andrew Bell
export LANG=en_US.UTF-8
umask 022
>>>>>>> .


#
# Rbenv
#

if [[ -d "$HOME/.rbenv" ]]; then
  export PROJECT_HOME="${ZDOTDIR:-$HOME}"/code
  export RBENV_ROOT="${ZDOTDIR:-$HOME}"/.rbenv
  export RBENV_DIR="$PWD"
  export PATH="$RBENV_ROOT/bin:$PATH"

  # rbenv init
  if which rbenv > /dev/null; then
    eval "$(rbenv init -)"
  fi
<<<<<<< HEAD
=======

  # rbenv completions
  if [[ -f "$HOME/.rbenv/completions/rbenv.zsh" ]]; then
    source "$HOME/.rbenv/completions/rbenv.zsh"
  fi
>>>>>>> 298081ec7200de4311a6378a34943524890478ea
fi


#
# pyenv
#

if [[ -d "$HOME/.pyenv" ]]; then
  export PYENV_ROOT="${ZDOTDIR:-$HOME}/.pyenv"
  export PYENV_DIR="$PWD"
  export PATH="$PYENV_ROOT/bin:$PATH"

  # pyenv init
  if which pyenv > /dev/null; then
    eval "$(pyenv init -)"
  fi
<<<<<<< HEAD
=======

  # pyenv completions
  if [[ -f "$HOME/.pyenv/completions/pyenv.zsh" ]]; then
    source "$HOME/.pyenv/completions/pyenv.zsh"
  fi
>>>>>>> 298081ec7200de4311a6378a34943524890478ea
fi


#
# pyenv-virtualenv
#

if which pyenv-virtualenv-init > /dev/null; then
  eval "$(pyenv virtualenv-init -)"
fi

export PYENV_VIRTUALENV_DISABLE_PROMPT=1
export VIRTUALENVWRAPPER_VIRTUALENV_ARGS='--no-site-packages'


#
# nodenv
#

# if [[ -d "$HOME/.rbenv" ]]; then
#   export NODENV_ROOT="${ZDOTDIR:-$HOME}"/.nodenv
#   export NODENV_DIR="$PWD"
#   export PATH="$NODENV_ROOT/bin:$PATH"

<<<<<<< HEAD
  # nodenv init
  eval "$(nodenv init -)"
<<<<<<< HEAD
fi

=======
=======
#   # nodenv init
#   eval "$(nodenv init -)"
>>>>>>> .

#   # nodenv completions
#   if [[ -f "$HOME/.nodenv/completions/nodenv.zsh" ]]; then
#     source "$HOME/.nodenv/completions/nodenv.zsh"
#   fi
# fi


#
# Rust
#

export RUST_SRC_PATH="$HOME/.multirust/toolchains/stable-x86_64-apple-darwin/lib/rustlib/x86_64-apple-darwin/lib/rustlib/src/rust/src"
export PATH="$HOME/.cargo/bin:$PATH"

>>>>>>> 298081ec7200de4311a6378a34943524890478ea

#
# Rust
#

export RUST_SRC_PATH="$HOME/.multirust/toolchains/stable-x86_64-apple-darwin/lib/rustlib/x86_64-apple-darwin/lib/rustlib/src/rust/src"
export PATH="$HOME/.cargo/bin:$PATH"

<<<<<<< HEAD
=======
#
# Paths
#

# Ensure path arrays do not contain duplicates.
typeset -gU cdpath fpath mailpath path

# Set the the list of directories that cd searches.
# cdpath=(
#   $cdpath
# )

>>>>>>> 298081ec7200de4311a6378a34943524890478ea

#
# Less
#

# Set the default Less options.
# Mouse-wheel scrolling has been disabled by -X (disable screen clearing).
# Remove -X and -F (exit if the content fits on one screen) to enable it.
export LESS='--tabs=4 --no-init --LONG-PROMPT --ignore-case --quit-if-one-screen --RAW-CONTROL-CHARS'

# Set the Less input preprocessor.
# Try both `lesspipe` and `lesspipe.sh` as either might exist on a system.
if (( $#commands[(i)lesspipe(|.sh)] )); then
  export LESSOPEN="| /usr/bin/env $commands[(i)lesspipe(|.sh)] %s 2>&-"
fi

#
# Temporary Files
#

if [[ ! -d "$TMPDIR" ]]; then
  export TMPDIR="/tmp/$LOGNAME"
  mkdir -p -m 700 "$TMPDIR"
fi

TMPPREFIX="${TMPDIR%/}/zsh"
